<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Cooperativa</title>
  </head>
  <body>
    <center>
      <h1>Cooperativa Electrica</h1>
      <h2>La Buena Luz</h2>
      <button onClick="Comenzar()">Iniciar</button>
    </center>

    <script> 
      var apn, kw, cat, dom, pkw, man, mac, tot, CanJub, KwJub, TotJub;

      CanJub = 0;
      KwJub = 0;
      TotJub = 0;

      function Comenzar() {
        pkw = parseInt(prompt("Precio del KW"));
        
        document.write(
          "<center>",
          "Consumos Electricidad",
          "<table  border='1' style='width: 100%; border-collapse: collapse; margin-bottom: 20px;'>",
          "<tr>",
          "<th style='background-color: #B4B0B0; border: 1px solid #ddd; padding: 8px; text-align: left;'>Apellido y Nombre Socio</th>",
          "<th style='background-color: #B4B0B0; border: 1px solid #ddd; padding: 8px; text-align: left;'>KW Consumidos</th>",
          "<th style='background-color: #B4B0B0; border: 1px solid #ddd; padding: 8px; text-align: left;'>Tot a Pagar</th>",
          "</tr>",)

        do {
          apn = prompt("Apellido y Nombre");
          dom = prompt("Domicilio");
          cat = parseInt(prompt("Categoria (1/Normal 2/Jubilado)"));
          man = parseInt(prompt("Medidor Anterior"));
          mac = parseInt(prompt("Medidor Actual"));

          if (cat === 2) {
            tot = mac - man;
            var totKw = tot * pkw;
            kw = totKw * 0.75;

            CanJub++;
            KwJub += tot;
            TotJub += kw;
          } else {
            tot = mac - man;
            kw = tot * pkw;
            
          }

          document.write(
          "<tr>",
          "<td style='background-color: #3FA488; border: 1px solid #ddd; padding: 8px; text-align: left;'>", apn, "</td>",
          "<td style='background-color: #3FA488; border: 1px solid #ddd; padding: 8px; text-align: left;'>", tot, "</td>",
          "<td style='background-color: #3FA488; border: 1px solid #ddd; padding: 8px; text-align: left;'>", kw, "</td>",
          "</tr>",)

        } while (prompt("Continuar (S/N)", "S") === "S");

        document.write(
          
          
          "</table>",
          "</center>",
        );

        document.write(
          "<br />", "<br />", 
          "<center>",
          "Cantidad Jubilados:", CanJub, "<br>",
          "Kw. Consumidos por Jubilados:", KwJub, "<br>",
          "Total a pagar por Jubilados:", TotJub, "<br>",
          "</center>");
      }
    </script>
  </body>
</html>
